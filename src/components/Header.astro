---
import WeatherWidget from './WeatherWidget.astro';
import Navigation from './Navigation.astro';
---

<header class="site-header relative min-h-[350px] bg-gradient-to-br from-cream to-parchment border-b-2 border-moss overflow-hidden shadow-strong">
  <!-- Decorative Header Gradients -->
  <div class="absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-moss via-plum via-brass to-rust z-10"></div>
  <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-brass via-plum to-moss z-10"></div>
  
  <!-- Header Background Layers -->
  <div class="header-background absolute inset-0 z-0">
    <div 
      class="parchment-texture absolute inset-0 opacity-60 bg-cover bg-center"
      style="background-image: url('/images/header/parchment_background.png')"
    ></div>
    
  </div>
  
  <!-- Mystical Header Frame Corners -->
  <div class="header-frame absolute inset-0 z-5 pointer-events-none opacity-80">
    <div class="frame-corner absolute top-2 left-2 w-20 h-20 border-2 border-brass border-r-0 border-b-0 rounded-tl-lg opacity-60 flex items-center justify-center text-2xl">üåø</div>
    <div class="frame-corner absolute top-2 right-2 w-20 h-20 border-2 border-brass border-l-0 border-b-0 rounded-tr-lg opacity-60 flex items-center justify-center text-2xl">üåø</div>
    <div class="frame-corner absolute bottom-2 left-2 w-20 h-20 border-2 border-brass border-r-0 border-t-0 rounded-bl-lg opacity-60 flex items-center justify-center text-2xl">üåø</div>
    <div class="frame-corner absolute bottom-2 right-2 w-20 h-20 border-2 border-brass border-l-0 border-t-0 rounded-br-lg opacity-60 flex items-center justify-center text-2xl">üåø</div>
  </div>
  
  <div class="container">
    <!-- Enhanced Header Content -->
    <div class="header-content relative z-10 grid grid-cols-1 md:grid-cols-[auto_1fr_auto] items-center md:items-start gap-lg py-lg mb-md text-center md:text-left">
      <!-- Society Emblems -->
      <div class="society-emblems flex flex-col items-center">
        <div class="club-crest">
          <img 
            src="/images/brand/logo.png" 
            alt="Durban Horticulture Club Crest" 
            class="crest-logo w-25 h-25 object-contain mystical-glow"
            loading="eager"
          />
        </div>
      </div>
      
      <!-- Society Title Section -->
      <div class="society-title text-center relative">
        <!-- Ornamental Top -->
        <div class="ornamental-top flex items-center justify-center gap-sm mb-sm">
          <div class="text-ornament left"></div>
          
          <div class="scroll-banner establishment relative inline-block px-md py-xs bg-gradient-to-br from-parchment to-cream border border-sepia rounded-3xl shadow-soft transform perspective-100 rotate-x-[5deg]">
            <div class="absolute top-1/2 -left-1 w-2 h-2 bg-brass rounded-full transform -translate-y-1/2 shadow-inner"></div>
            <div class="absolute top-1/2 -right-1 w-2 h-2 bg-brass rounded-full transform -translate-y-1/2 shadow-inner"></div>
            <span class="banner-text font-ui text-xs text-sepia font-medium uppercase tracking-widest">Est. 1883</span>
          </div>
          
          <div class="text-ornament right"></div>
        </div>
        
        <!-- Main Title -->
        <h1 class="main-title font-heading text-title text-charcoal my-md text-shadow tracking-wide">
          <span class="decorative-initial text-6xl text-plum mr-1 relative">D</span>urban 
          <span class="decorative-initial text-6xl text-plum mr-1 relative">H</span>orticulture 
          <span class="decorative-initial text-6xl text-plum mr-1 relative">C</span>lub
        </h1>
        
        <!-- Latin Motto -->
        <div class="latin-motto mt-md">
          <div class="scroll-banner motto relative inline-block px-lg py-sm bg-gradient-to-br from-moss to-forest-shadow rounded-3xl shadow-soft">
            <div class="absolute top-1/2 -left-1 w-2 h-2 bg-brass rounded-full transform -translate-y-1/2 shadow-inner"></div>
            <div class="absolute top-1/2 -right-1 w-2 h-2 bg-brass rounded-full transform -translate-y-1/2 shadow-inner"></div>
            <span class="banner-text text-cream font-secondary italic text-base tracking-wide">Custodes Arcana Viridis</span>
          </div>
          <p class="motto-translation text-sm text-sepia mt-xs italic">"Guardians of the Green Mysteries"</p>
        </div>
      </div>
      
      <!-- Weather Widget -->
      <div class="mystical-weather text-center">
        <WeatherWidget />
      </div>
    </div>
    
    <!-- Ornamental Divider -->
    <div class="ornamental-divider text-center my-lg relative z-10">
      <div class="elegant-divider"></div>
    </div>
    
    <!-- Navigation -->
    <Navigation />
    
    <!-- Bottom Ceremonial Elements -->
    <div class="ceremonial-footer relative z-10 text-center py-md border-t border-sepia mt-md opacity-80">
      <div class="society-authentication flex justify-center">
        <div class="authentication-elements flex items-center gap-sm">
          <div class="small-seal w-5 h-5 rounded-full bg-gradient-radial from-rust to-sepia border border-brass opacity-70 relative flex items-center justify-center">
            <span class="text-xs">üåø</span>
          </div>
          <span class="authentication-text font-ui text-xs text-sepia uppercase tracking-widest font-normal">Official Correspondence of the Durban Horticultural Society</span>
          <div class="small-seal w-5 h-5 rounded-full bg-gradient-radial from-rust to-sepia border border-brass opacity-70 relative flex items-center justify-center">
            <span class="text-xs">üåø</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<style>
  .decorative-initial::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 1px solid theme('colors.brass');
    border-radius: 50%;
    opacity: 0.3;
    transform: rotate(15deg);
  }
  
  .bg-gradient-radial {
    background: radial-gradient(circle, var(--tw-gradient-stops));
  }
  
  .perspective-100 {
    perspective: 100px;
  }
  
  .rotate-x-\[5deg\] {
    transform: perspective(100px) rotateX(5deg);
  }
  
  /* Decorative ornaments */
  .text-ornament {
    width: 60px;
    height: 20px;
    position: relative;
    opacity: 0.7;
  }
  
  .text-ornament::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(to right, transparent 0%, var(--color-sepia) 20%, var(--color-sepia) 80%, transparent 100%);
    transform: translateY(-50%);
  }
  
  .text-ornament::after {
    content: '‚ù¶';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--color-sepia);
    font-size: 12px;
  }
  
  .text-ornament.left {
    transform: scaleX(-1);
  }
  
  .elegant-divider {
    width: 100%;
    height: 20px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .elegant-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(to right, transparent 0%, var(--color-sepia) 20%, var(--color-sepia) 80%, transparent 100%);
    transform: translateY(-50%);
    opacity: 0.6;
  }
  
  .elegant-divider::after {
    content: '‚ù¶';
    position: relative;
    padding: 0 12px;
    color: var(--color-sepia);
    font-size: 14px;
    opacity: 0.8;
    z-index: 1;
  }

  /* Mobile responsive header adjustments */
  @media (max-width: 768px) {
    .header-content {
      grid-template-columns: 1fr;
      text-align: center;
      gap: 1.5rem;
    }
    
    .society-title {
      order: 2;
    }
    
    .society-emblems {
      order: 1;
      justify-content: center;
    }
    
    .mystical-weather {
      order: 3;
    }
    
    .main-title {
      font-size: 2.5rem;
    }
    
    .decorative-initial {
      font-size: 3rem;
    }
    
    .weather-frame {
      max-width: 300px;
      margin: 0 auto;
    }
  }
  
  @media (max-width: 480px) {
    .main-title {
      font-size: 2rem;
    }
    
    .decorative-initial {
      font-size: 2.5rem;
    }
    
    .crest-logo {
      width: 80px;
      height: 80px;
    }
  }
</style>